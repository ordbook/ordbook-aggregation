package parse

import (
	"fmt"
	"github.com/shopspring/decimal"
	"testing"
)

func Test_parseTx(t *testing.T) {
	txRaw := "0200000000010b530cc38cb67158bb297ea0ec01a776b2314a094233e1804cfd106e26501d62890000000000ffffffff05c285ca9190fced31fdfebeca5762c3fc9519ae3667f4b4fa10752506db55a00100000000ffffffffbaa1dd2dfb73837ad7668501ca9b6a8ee5ee6eaadc3cf16271efe1d4dfcd4b300100000000ffffffff6632c22c40e1ceca52c2d4a68335c0d87854d77689dd4b378de8357178f528490100000000ffffffff31efb1bb7b3daf78aaf9ff74c37d0b520544cdb047f2f58950ade16cf83e3b110100000000ffffffff710e57fcb1c08e55028f3416a0f3e04c07bd274f9718bbcd4e480fa6bddbd1b10100000000fffffffff7b973927456759629fcf0bcc6c7d4bb1fdbba775a79b54b51db8607cdf629e20100000000ffffffff10c5ba7f1cf1a688a181157bc5ffe9f02dbe50bd0b1b91210239a8b7bfeaab240100000000fffffffffdaad14880b7d4960ef4d9cf45d580655458ee403804fd4ea0a2ce3a5bea36660100000000ffffffff6d3e2412984448a04c68d25eaad1e7dfd2ff14c731a1991f15ed65ce511f51800100000000ffffffff5ad56b6e9b3a650eb0e089326a75a6175477400cb0ea10b50cb1bf11e63693580100000000ffffffff0222020000000000002251202754ce6cb5da0f09a586675d600b5ff7e4e7afa2102eaa86ee1aa84eb4cf7f9a00b20100000000002251202754ce6cb5da0f09a586675d600b5ff7e4e7afa2102eaa86ee1aa84eb4cf7f9a0247304402200f7bd66f310daf8d4e70c30130dce8565589496a74b8f894520171ed9f0d39ed02207a955c1a38a2cba8cc8b50a9d04d874cb8811365198156b13c403e4515215ecc0121037bf262e83cd771eff299000acea994c90e4d678cb080dfba87ebdf99b981ebc102483045022100aa8de022a15a6e3d35031fed544a104f74737c80d3fde4c1dedab0b1b472726602206a272c108c23fa614a26de029f71267ed4fa93de47e07f22080e11f64f349d1901210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c20248304502210089934458367a093da5f96338c0b0b0b7249280192a694a52dcba3732336a34010220343234a1ed0c7cb49b6c1d900dc005b8ec11337e0cc0361e393a5e08c42d301801210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c20247304402207471f7f4fa5a1230de82216c1d4fe9c9a63ff557bd0f6f78dfbb47877e4eeb42022003a723d5bf79e211410a5b109badc335408dc3404c5c8ea7e727d025cba5ffaa01210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c2024730440220708072a559d9d2530e0fa553084cb2399262466d31969188d27734c774f9c20c0220712c20ee3200133e6cf7338b92821a43f379727490e3dd6370e17c5048ab7f6701210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c202483045022100b35f7182a219466c680379283a2f2c04b64c6da7d351e554540e217d77b73a9b0220767a5b35c2aa1eb56587bcf2437deec6ece845c20fa17faf9a40c08e02f57c1501210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c202483045022100c67dc959d3569e9ab05fd9f6f33b6ac788b9ed00fc5f623272fae2c79e56934e02202dcb3d6447a91e28add21e8d1354e16a800efe56a39f549046a14f271ffc7e9601210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c202473044022073d6a883a746bb99ff61d12b59aefbfa4880f7c2461f6e555999278588c6cd7f02204d57f5d8a8dff1355fbfec07a9fabc8b5e8363e896c420ab3e101daa081c0b6601210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c202473044022058094faea503245eb940ae7410533483a04757eeb0af35931f6bfde362adc7d002201478687aaa0eddbe8daf0d0e81c006f429e40de014d2bd73d9fd1327a69cc57101210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c202483045022100b2ec55802cfda333fba45fd0287d6706b9bb2794b497b57df0e0727b80c022390220765dce1462c5237ea3c16cb04c7aac401997530031f26bd4f9b928b9c95c47cc01210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c20247304402206d9395665f76cb9d874cf4055154e55868e5c3ab87c2a6c094bb2d161f545ea3022041ffd90190bdb8b31dd289ab03362e8fe102f3e5a2bd32fc09ff226b8a79d9eb01210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c200000000"
	parseTx(txRaw)
}

func Test_parsePsbt(t *testing.T) {
	psbtRaw := "70736274ff01005e0200000001b8e87d74388dc3fd268de07b360a472983e1ec62fd420167617ccaf533005fcf0000000000ffffffff01e8030000000000002200202c7c51be610faa13b08e39bef197961939647788d481a53b87093b8b51360820000000000001011f40bc030000000000160014962e5f5203327836f427bc203fb63c5a0826d8e201086b02473044022006afc9927bccbd26f22888942ab49a3e2be100fe89bb21741bff76d590f27d2202203e3fb8755319920db83e387f0f923feeb6690ef692312a394069dfcd6103b9138321028894d66260b7bddd942efc7ecf1f28aa43ebe43a2184a9bad64f03e4ae90a9b60000"
	parsePsbt(psbtRaw)
}

func Test_decimal(t *testing.T) {
	//fmt.Println(strconv.ParseInt("1.24", 10, 64))
	strDe, _ := decimal.NewFromString("0.2240030000")

	fmt.Println(strDe.String())
}
