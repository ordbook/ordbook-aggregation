package parse

import (
	"fmt"
	"github.com/shopspring/decimal"
	"testing"
)

func Test_parseTx(t *testing.T) {
	txRaw := "01000000000101a2ff43e43501988871bf15b33a53e30242d124fb48eafadadc3fcff86d632d700000000000f5ffffff02f61500000000000022512046f66b9c45f9b5f6e782f203c79c8aaf7145c882b95c17783a5f08e68351bc98d4100000000000000002473044022057724a2a323c9329a32035d04319f30632285e8406424d977fe3582e55fb00d002206e54fc7f87e6d8b1320a9c9591f8730edd97a0b757dedb73a2cf0603455e7d6001210387ba989f4f6cd327f56a9267dc2b1cf34419b42c6a2157c043544586498e46c200000000"
	parseTx(txRaw)
}

func Test_parsePsbt(t *testing.T) {
	psbtRaw := "70736274ff0100fd2a0102000000046368b18c972c358615d57edf7ea4f4620cf4794654eb6661bfb9d2e018e555ea0100000000ffffffff3c9aadd8d8b7c70dee8c19841f1babe6219ec6506eb22af3ebf214d4228887e90200000000ffffffffb2125a872739f1004c43d5ec43f7486511c4d437b86493a254e63ea7ca2c1f560000000000fffffffffc7d2357212433845db2f9f9b8a59fd0163090254309febb15bde3c75e5c47500000000000ffffffff048813000000000000160014d62e3f8b4809f5c03ba6f088d25a8ffcbb0d9a50c089010000000000160014e4abfd84596db17c2103459990201f261d1eb945e803000000000000160014e4abfd84596db17c2103459990201f261d1eb94520410b0000000000160014e4abfd84596db17c2103459990201f261d1eb945000000000001012b8813000000000000220020a0d13920902d9f77b7a3b4e1b628defebee3526d6fea6e067204dd45b7f0f6110108db040047304402204c7633a109c9885fca678552ae8c108524ed00d47fa7d5b0c8ec0494589cd62f02207e91ac597a4e1f4a0fd77552652b5fe5f3c74c7a7e9cda1267efd145949123e483483045022100fc1036eb8b706ef242617f704581ea3a3ae7a3602dcc96eb8025ddd92174cac20220471cfc014dc9eaaa7044425214ecaec3833c2cf4e78e23c9cb5edbb13d981b308347522103ea7a9241408dc9e9e20563ff9136948e0632b89e3ee94544e56274e88f8066352103782f1f1736fbd1048a3b29ac9e7f5ab8c64f0c87d6a0bd671c0d6d67a3181da252ae0001012bc089010000000000220020a0d13920902d9f77b7a3b4e1b628defebee3526d6fea6e067204dd45b7f0f6110108db0400483045022100ef614bbe5bd1e747e3556cc1c2d5a09df06729c8ea9fc5d0977970b88631fc4a0220456e6919e422aeef405a1d1f6af2c319c23b48d0642e26934517e7c47719e78c834730440220455fb574503e7fd255a2e40784a38e47f879b18a1ca93b4d0e020a2aae42e3c90220501a2bcb7d5aa72c3ec2e3adc6c3eaae37130ae3a9ae3bef20a941d459e722c08347522103ea7a9241408dc9e9e20563ff9136948e0632b89e3ee94544e56274e88f8066352103782f1f1736fbd1048a3b29ac9e7f5ab8c64f0c87d6a0bd671c0d6d67a3181da252ae0001012be803000000000000220020a0d13920902d9f77b7a3b4e1b628defebee3526d6fea6e067204dd45b7f0f6110108da0400473044022034b2658894255357603d54fc4bdc1e1cdb4f108cf3fb07b776bfeaf68defee8e02202c7e53ce3a421b2e06dc4c34577fd6e6b1fd90b5398101bbb3219509d15f7ffb8347304402202f2001302abea5357da98a19024c6021d3bbb6cbc165e5cfb2ee470f3880daea0220237edc2bce0e4e6192d6735f4fc42e09a3ae366e926de95ba4fce6f9138e4a998347522103ea7a9241408dc9e9e20563ff9136948e0632b89e3ee94544e56274e88f8066352103782f1f1736fbd1048a3b29ac9e7f5ab8c64f0c87d6a0bd671c0d6d67a3181da252ae0001011f50b30b0000000000160014e4abfd84596db17c2103459990201f261d1eb94501086b02473044022076d55d72538e629c2e86709843bb204847e87784981cbcd017f476f5dcb7e7a9022056342bd0b6cf3a9922578b04e9fedb34ef65a5f783d276138fbe82538eec5f1d832103ea7a9241408dc9e9e20563ff9136948e0632b89e3ee94544e56274e88f8066350000000000"
	parsePsbt(psbtRaw)
}

func Test_decimal(t *testing.T) {
	//fmt.Println(strconv.ParseInt("1.24", 10, 64))
	strDe, _ := decimal.NewFromString("0.2240030000")

	fmt.Println(strDe.String())
}
