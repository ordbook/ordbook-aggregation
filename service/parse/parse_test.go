package parse

import (
	"fmt"
	"github.com/shopspring/decimal"
	"testing"
)

func Test_parseTx(t *testing.T) {
	txRaw := "01000000000103368fbe500e1bc96466c879181dd6ca1bfb2c60e939ba62e7a7d4b4c12a7923eb0800000000f5ffffffb8f2349c7d73c19cbe29448354f03c59696b20ae78e65174c3fc49c37a9db04a0700000000f5ffffff5877d655d9174bb019bfcb895012b78899ac5b428ec4144568721fc96bd26e580700000000f5ffffff02e2090000000000002251206d928610d6472104f3be0035d51fe9327c71d0405af5ead4c255cc0f855b5e21a028000000000000160014f26957622882a010e696e6f3ece6c36c0896e8a80247304402204426a380989e28d5626191739833b16b6a9cfcf830206e4ba5326d78e3f0dc8202207d7bfe2203b66c3e75b390427e09bf29f5729a29913365645db09d97bd8477760121023fddb4d48bda32c4460601e736d131aa0c8e1dfa08f92b7e3fd0995e6448ac3a02473044022023186b7fdf4227a76a882248926da1d8f6a33388301d20e7cb7fdb506fe6875b022070bd38d8e07bdda9c09503708f2d397a0405869bc0818816dbdc0ca2aaa515710121023fddb4d48bda32c4460601e736d131aa0c8e1dfa08f92b7e3fd0995e6448ac3a02483045022100960ecc3a3d6d19181010e517bc957fafa7dafd8f718e49575ea5e4e5768cba7e02201947b8b652e665fe40b78fe73b570a0072cac29bea9f0caf942c2331d3e408c90121023fddb4d48bda32c4460601e736d131aa0c8e1dfa08f92b7e3fd0995e6448ac3a00000000"
	parseTx(txRaw)
}

func Test_parsePsbt(t *testing.T) {
	psbtRaw := "70736274ff0100fdc8010200000005d047bd140ecc9e3ae94b6d7588b2a342c5a2747cf4c640de401dbd40bc0055403400000000ffffffffd047bd140ecc9e3ae94b6d7588b2a342c5a2747cf4c640de401dbd40bc0055403500000000ffffffffa623dbc7a38d0bc8dadc81e9b3dbc255d2cdbbc31eaa5f0c5257833b317c51c00000000000ffffffffae6e713fe02b400426c5443376eef81c80068bb40444497bced78e8d9dc68ff90900000000ffffffff1bdb135623381e57e86dd272368473302df737595c8c1e871ede50ed18b153f20000000000ffffffff07b0040000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e220200000000000022512093729193c42aea6c3acc38c79e5ccc3a38fb314272f2daecc63472181dc2caa4d00e03000000000022002063722762465c5018c54f6e057d512bebaf473e34b1cbd91b26238ab264287ab71027000000000000160014725aca1617b1f23c8352535f5495abb9187a560d1027000000000000160014725aca1617b1f23c8352535f5495abb9187a560d58020000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e58020000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e000000000001011f58020000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e01086c02483045022100856b71b1110c6ed5632a7425293b9f7d6d83b6ad0b2f3efb36be610b08c2734102203573903faf0e9a5bfdcf9af3de8409665f6458b042cbb35e501886a53223c2708121037fd2c361a562e449ab645587cadd4a8bebaed4e87f236d436bee1109427019ad0001011f58020000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e01086c02483045022100d6458e9186c1c591e014e67fb88674e7482c770d77b6eb0d409baf984069ab140220671c5df4aa4ba537633043a3f02f500949719a01378de517c0a95e20e9d191e18121037fd2c361a562e449ab645587cadd4a8bebaed4e87f236d436bee1109427019ad0001011f2202000000000000160014fbb3bcbf04210921f59df37f2ee4c73559639cf501086b024730440220731c7b5faf7e111a35cea31802f12acbe1b3a1e2fdf194d584a9ebf34df10b8c022002ee03ad313f33bc0d970e369d1f2e0a792f9c4ee98d097ac65de23bfbf3d1e5832103fe8aa5fac8a34a1dbb4b80b9b6708a21609e1dd1fc6f59c88657935ef35ce4930001011fb0040000000000001600149a4fad485d5e43c0c1f9c1d655ea121d42a6e97e01086c02483045022100ec0dc38b0d2101ce257ec7c5314119228919fe6a3edddeb84e9c18cd0d83b8ad02203ed8e9a95eec3f78516ba1f994a1a14e3ac50f2684fef04261f92c19f21ff6b88121037fd2c361a562e449ab645587cadd4a8bebaed4e87f236d436bee1109427019ad0001012b1e3403000000000022512093729193c42aea6c3acc38c79e5ccc3a38fb314272f2daecc63472181dc2caa40108430141f79c2073b27d1c3633c7be8433c3563428ab4dd323aa6468e3f3c9bb102397e2ac4f89a2184afc56a71a3f977386582200cc82e033928235dfe5036f0bb3a71a810000000000000000"
	parsePsbt(psbtRaw)
}

func Test_decimal(t *testing.T) {
	//fmt.Println(strconv.ParseInt("1.24", 10, 64))
	strDe, _ := decimal.NewFromString("0.2240030000")

	fmt.Println(strDe.String())
}
